<Window x:Class="StoreManagement.WPF.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:viewModels="clr-namespace:StoreManagement.WPF.ViewModels"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        mc:Ignorable="d"
        Title="AppName" Height="720" Width="1280"
        WindowStartupLocation="CenterScreen"
        WindowStyle="SingleBorderWindow"
        AllowsTransparency="False"
        Background="Transparent">


    <Border Background="{StaticResource PrimaryBackgroundBrush}" CornerRadius="10" BorderBrush="{StaticResource BorderBrush}" BorderThickness="1">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="240"/>
            </Grid.ColumnDefinitions>

            <!-- Main Content Area -->
            <Grid Grid.Column="0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- Custom Header/Title Bar -->
                <Border Grid.Row="0" Height="60" Background="Transparent" MouseDown="TitleBar_MouseDown" Padding="20,0">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <!-- Header Action Buttons (Right Aligned) -->
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                            <Button Style="{StaticResource PrimaryActionButtonStyle}" Content="خروج ار برنامه" VerticalAlignment="Center"/>
                            <Ellipse Width="36" Height="36" Margin="15,0,0,0">
                                <Ellipse.Fill>
                                    <ImageBrush ImageSource="/Assets/Images/logo.jpg" Stretch="UniformToFill"/>
                                </Ellipse.Fill>
                            </Ellipse>
                        </StackPanel>
                    </Grid>
                </Border>

                <!-- ContentControl to host the current view -->
                <ContentControl Grid.Row="1" Content="{Binding CurrentViewModel}" Margin="30,0,30,30"/>
            </Grid>

            <!-- Right Navigation Menu -->
            <Border Grid.Column="1" Background="{StaticResource SecondaryBackgroundBrush}" 
                    CornerRadius="0,10,10,0" 
                    BorderBrush="{StaticResource BorderBrush}" 
                    BorderThickness="1,0,0,0"
                    FlowDirection="RightToLeft">
                <StackPanel>
                    <!-- Logo and App Name -->
                    <StackPanel 
                        Orientation="Horizontal" 
                        Margin="20,25,20,20">
                        <Path Data="M704 704h64v192H256V704h64v64h384v-64zm188.544-152.192C894.528 559.616 896 567.616 896 576a96 96 0 11-192 0 96 96 0 11-192 0 96 96 0 11-192 0 96 96 0 11-192 0c0-8.384 1.408-16.384 3.392-24.192L192 128h640l60.544 423.808z" 
                              Fill="{StaticResource AccentBrush}" Stretch="Uniform" Width="30" Height="30"/>
                        <TextBlock Text="فروشگاه پرفروش" VerticalAlignment="Center" FontSize="22" FontWeight="SemiBold" Margin="4,0,10,0"/>
                    </StackPanel>

                    <!-- Menu Items -->
                    <RadioButton Content="داشبورد" 
                                 Style="{StaticResource NavRadioButtonStyle}" 
                                 IsChecked="True" 
                                 Command="{Binding NavigateToDashboardCommand}"
                                 Tag="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"/>
                    <RadioButton Content="فروش" 
                                 Style="{StaticResource NavRadioButtonStyle}" 
                                 Command="{Binding NavigateToSalesInvoiceCommand}"
                                 Tag="M8.5 17h9c.277 0 .5.223.5.5s-.223.5-.5.5h-9c-.277 0-.5-.223-.5-.5s.223-.5.5-.5zm4.5 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 1c.558 0 1 .442 1 1s-.442 1-1 1-1-.442-1-1 .442-1 1-1zm0-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 1c.558 0 1 .442 1 1s-.442 1-1 1-1-.442-1-1 .442-1 1-1zM25 3c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 1c.558 0 1 .442 1 1s-.442 1-1 1-1-.442-1-1 .442-1 1-1zM.446 15.67c-.587.58-.583 1.542 0 2.124l11.76 11.76c.58.582 1.542.587 2.123 0L28.855 14.85c.247-.25.532-.48.768-.856.235-.376.376-.87.376-1.544V1.5c0-.823-.678-1.5-1.5-1.5h-11c-1.158 0-1.824.624-2.35 1.145zm.703.712L15.85 1.856c.533-.526.808-.856 1.65-.856H28.5c.285 0 .5.214.5.5v10.952c0 .547-.093.805-.224 1.013-.13.21-.344.394-.63.684l-14.53 14.7c-.197.2-.5.2-.703-.002l-11.76-11.76c-.203-.203-.205-.508-.004-.706z"/>
                    <RadioButton Content="خرید" 
                                 Style="{StaticResource NavRadioButtonStyle}" 
                                 Command="{Binding NavigateToPurchaseInvoiceCommand}"
                                 Tag="M891 308H340q-6 0-10.5-4t-5.5-10l-32-164q-2-14-12-22.5T256 99H110q-15 0-25.5 10.5T74 135v5q0 15 10.5 26t25.5 11h102q4 0 7 2.5t4 6.5l102 544q3 19 20 28 8 5 18 5h17q-22 25-21 58.5t25 56.5 57.5 23 58-23 25.5-56.5-22-58.5h186q-23 25-21.5 58.5T693 878t57.5 23 57.5-23 25-56.5-21-58.5h17q15 0 25.5-10.5T865 727v-8q0-15-11-25.5T828 683H409q-6 0-10.5-4t-5.5-9l-10-54q-1-8 4-14t12-5h460q13 0 22.5-8t11.5-21l33-219q3-16-7.5-28.5T891 308z"/>

                    <RadioButton Content="مشتریان" 
                                 Style="{StaticResource NavRadioButtonStyle}" 
                                 Command="{Binding NavigateToCustomersCommand}"
                                 Tag="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                    <RadioButton Content="حساب بانکی" 
                                 Style="{StaticResource NavRadioButtonStyle}" 
                                 Command="{Binding NavigateToBankAccountsCommand}"
                                 Tag="M16 3H8v4H2v14h20V7h-6V3zm-2 4h-4V5h4v2zM4 19V9h16v10H4zm6-8h4v3h-4v-3zm-2 4h8v2H8v-2z"/>
                    <RadioButton Content="محصولات" 
                                 Style="{StaticResource NavRadioButtonStyle}" 
                                 Command="{Binding NavigateToProductsCommand}"
                                 Tag="M22 3H2v6h1v11c0 1.105.895 2 2 2h14c1.105 0 2-.895 2-2V9h1V3zM4 5h16v2H4V5zm15 15H5V9h14v11zM9 11h6c0 1.105-.895 2-2 2h-2c-1.105 0-2-.895-2-2z"/>
                    <RadioButton Content="فروشگاه ها" 
                                 Style="{StaticResource NavRadioButtonStyle}" 
                                 Command="{Binding NavigateToStoresCommand}"
                                 Tag="M6 2H3a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V2zM3.01 8v9.965H5V13a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v4.965h6.013V8H15c-.768 0-1.47-.289-2-.764A2.989 2.989 0 0 1 11 8H9c-.768 0-1.47-.289-2-.764A2.989 2.989 0 0 1 5 8H3.01zm-2-.754A2.993 2.993 0 0 1 0 5V3a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v2c0 .882-.38 1.676-.987 2.225v10.74a2 2 0 0 1-2 2h-7.64A2.01 2.01 0 0 1 9 20H7a2.01 2.01 0 0 1-.373-.035H3.011a2 2 0 0 1-2-2V7.245zM9 17.966V13H7v4.965h2zM12 2H8v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V2zm2 0v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1h-3zm0 9h1a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1z"/>
                    <RadioButton Content="گزارشات" 
                                 IsEnabled="False" 
                                 Style="{StaticResource NavRadioButtonStyle}"
                                 Tag="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
                    <RadioButton Content="تنظیمات" 
                                 IsEnabled="False" 
                                 Style="{StaticResource NavRadioButtonStyle}"
                                 Tag="M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69-.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19-.15-.24-.42-.12-.64l2 3.46c.12-.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"/>

                </StackPanel>
            </Border>

            <materialDesign:Snackbar
                Grid.Column="0" MessageQueue="{Binding SnackbarMessageQueue}"
                HorizontalAlignment="Left"
                VerticalAlignment="Bottom"
                Margin="16" />
        </Grid>
    </Border>
</Window>
